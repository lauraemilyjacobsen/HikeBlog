@model PagedList.IPagedList<HikeBlog.Models.Post>
@{
	ViewBag.Title = "Laura Jacobsen";
	Layout = "~/Views/Shared/_Layout.cshtml";
}

@if (!String.IsNullOrWhiteSpace(ViewBag.CurrentSearch as string) && ViewBag.CurrentSearch as string != "Search")
	{
		<h2>Search Results for @ViewBag.CurrentSearch</h2><br />
	}

@foreach (var item in Model)
{
	<div class="postPreview">
		@Html.ActionLink(@item.Title, "Post", "Blog", new { id = item.ID, title = item.Slug }, new { @class = "title" })
		
		<p class="dateCreated">@Html.DisplayFor(modelItem => item.DatePublished)</p>
		<div class="blogContent">@Html.Raw(item.TruncatedContent)</div>
		<br />
		@Html.ActionLink("Continue reading...", "Post", "Blog", new { id = item.ID, title = item.Slug }, new { @class = "commentLink" })
		@Html.ActionLink(@item.Comments.Count + " comments", "Post", "Blog", new { id = item.ID, title = item.Slug }, new { @class = "commentLink" })
	</div>
}
<div id="pager">
	
	@if (Model.HasPreviousPage)
 {
		@Html.ActionLink("<<", "Index", new { page = 1 })
		@Html.Raw(" ");
		@Html.ActionLink("< Newer posts", "Index", new { page = Model.PageNumber - 1 })	
 }

	@if (Model.HasNextPage)
 {
		@Html.ActionLink("Older posts >", "Index", new { page = Model.PageNumber + 1 })
		@Html.Raw(" ")
		@Html.ActionLink(">>", "Index", new { page = Model.PageCount })
 }
</div>